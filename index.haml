!!!
%html
  %head
    %meta(charset="utf-8")
    %title HipChat emoticons
    /[if lt IE 9]
      %script(src="//html5shim.googlecode.com/svn/trunk/html5.js")
    <link href='http://fonts.googleapis.com/css?family=Varela+Round&v2' rel='stylesheet' type='text/css'>
    %style
      :sass
        body
          margin: 0
          padding: 1em 2em
          max-width: 65em
          font-family: 'Varela Round', sans-serif
        #emoticons
          margin: 3em 0 2em
          a
            display: inline-block
            text-align: center
            width: 41px
            height: 41px
            padding: 3px

  %body

    %header
      %h1 HipChat emoticons
      %p
        A complete list of
        <strong>#{@emoticons.length}</strong>
        <a href="http://www.hipchat.com/r/2zt39">HipChat</a> emoticons.
        Click to copy.

    %p
      Order:
      - case params[:order]
      - when EmoticonFile::BY_RECENT
        <a href="/">Alphabetical</a> &bull; <strong>Recently added or updated</strong>
      - else
        <strong>Alphabetical</strong> &bull; <a href="/?order=recent">Recently added or updated</a>

    #emoticons
      %p
        - @emoticons.each do |e|
          %a{ :href => "##{e.shortcut}", :onclick => %{ prompt("Copy this:", #{e.shortcut.to_json}); return false;} }
            %img{:alt => e.shortcut, :title => e.shortcut,
              :src => e.url, :style => "width:#{e.width}px; height:#{e.height}px" }

    %footer
      %p
        Last updated #{@updated_at.strftime("%b %e, %Y")}.
        By <a href="http://henrik.nyh.se">Henrik Nyh</a>.
        <a href="https://github.com/henrik/hipchat-emoticons">View source on GitHub</a>.
